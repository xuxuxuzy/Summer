/*小d是一个搞房地产的土豪。每个人经商都有每个人经商的手段，当然人际关系是需要放在首位的。
小d每一个月都需要列出来一个人际关系表，表示他们搞房地产的人的一个人际关系网，但是他的精力有限，对应他只能和能够接触到的人交际。
比如1认识2,2认识3，那么1就可以接触3进行交际，当然1和2也可以交际。
小d还很精明，他知道他和谁交际的深获得的利益大，接下来他根据自己的想法又列出来一个利益表，
表示他和这些人交际需要耗用多少精力，能够获得的利益值为多少。
小d想知道，他在精力范围内，能够获得的利益值到底是多少。
设定小d自己的编号为1.并且对应一个人的交际次数限定为1.

输入描述
本题包含多组输入，
第一行输入一个数t，表示测试数据的组数每组数据的第一行输入三个数，
N,M，C，表示这个人际关系网一共有多少个人，关系网的关系数，以及小d的精力值接下来N-1行，每行两个数ai，bi。
这里第i行表示和编号为i+1的人认识需要花费ai的精力，能够获得的利益值为bi。
再接下来M行，每行两个数x，y，表示编号为x的人能够和编号为y的人接触
t<=5
02<=N<=10000
1<=M<=10*N1<=ai，bi<=10
1<=C<=500
1<=x,y<=N 

输出描述 
输出包含一行，表示小d能够获得的最大利益值
（题目）
*/ 

/*思路
本题应先用并查集找出其联通的客户网。然后再运用 f[j]=max(f[j],f[j-w[i]]+c[i])该式枚举出最大的利益。 */
//代码如下 
#include<bits/stdc++.h>
using namespace std;
const int N=1e5+10000;
int fa[N],w[N],c[N],f[N];
int t,n,m,v;
int find(int x)
{
    if(fa[x]!=x) return fa[x]=find(fa[x]);
    return fa[x];
}
int main()
{
    cin>>t;
    while(t--)
    {
        cin>>n>>m>>v;
        memset(f,0,sizeof f);
        for(int i=1;i<=n;i++) fa[i]=i;
        for(int i=2;i<=n;i++) scanf("%d %d",&w[i],&c[i]);
        for(int i=1;i<=m;i++)
        {
            int a,b;
            cin>>a>>b;
            int u=find(a),v=find(b);
            if(u!=v) fa[u]=v;
        }
        for(int i=2;i<=n;i++)
        {
            if(find(1)==find(i))
            {
                for(int j=v;j>=w[i];j--) f[j]=max(f[j],f[j-w[i]]+c[i]);
            }
        }
        cout<<f[v]<<endl;
    }
 }
